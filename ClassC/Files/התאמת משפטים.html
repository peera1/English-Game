<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×ª×××ª ××©×¤×˜×™× ×œ×ª×¨×’×•××™× - ×›×™×ª×” ×’'</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FF6B6B 0%, #FFE66D 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
            position: relative;
        }

        h1 {
            text-align: center;
            color: #FF6B6B;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .instructions {
            background: #fff5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-right: 4px solid #FF6B6B;
        }

        .instructions h3 {
            color: #FF6B6B;
            margin-bottom: 10px;
        }

        .instructions p {
            color: #555;
            line-height: 1.6;
        }

        .mistakes-counter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .mistake-heart {
            font-size: 2em;
            transition: all 0.3s ease;
        }

        .mistake-heart.lost {
            opacity: 0.2;
            transform: scale(0.8);
        }

        .game-area {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }

        .sentences-column, .translations-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .column-title {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            color: #FF6B6B;
            margin-bottom: 10px;
            padding: 10px;
            background: #fff5f5;
            border-radius: 8px;
        }

        .sentence-item, .translation-item {
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            border: 3px solid #e0e0e0;
            background: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .sentence-item {
            direction: ltr;
            text-align: left;
        }

        .translation-item {
            direction: rtl;
            text-align: right;
        }

        .sentence-item:hover, .translation-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .sentence-item.selected, .translation-item.selected {
            border-color: #FF6B6B;
            background: #fff5f5;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .sentence-item.matched, .translation-item.matched {
            border-color: #4caf50;
            background: #e8f5e9;
            cursor: default;
            opacity: 0.7;
        }

        .sentence-item.matched:hover, .translation-item.matched:hover {
            transform: none;
        }

        .feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 1.3em;
            font-weight: bold;
            min-height: 40px;
            padding: 10px;
            border-radius: 8px;
        }

        .feedback.correct {
            color: #4caf50;
            background: #e8f5e9;
        }

        .feedback.wrong {
            color: #f44336;
            background: #ffebee;
        }

        .progress-info {
            text-align: center;
            font-size: 1.2em;
            color: #FF6B6B;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .start-btn, .restart-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            font-size: 1.2em;
            background: #FF6B6B;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .start-btn:hover, .restart-btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .hidden {
            display: none;
        }

        .result-screen {
            text-align: center;
        }

        .result-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: #FF6B6B;
        }

        .result-message {
            font-size: 1.3em;
            color: #555;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .stats-table {
            background: #fff5f5;
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
        }

        .stats-table h3 {
            color: #FF6B6B;
            margin-bottom: 15px;
            text-align: right;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-weight: bold;
            color: #555;
        }

        .stat-value {
            color: #FF6B6B;
            font-weight: bold;
        }

        .sentences-review {
            background: white;
            border: 2px solid #FF6B6B;
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
        }

        .sentences-review h3 {
            color: #FF6B6B;
            margin-bottom: 20px;
            text-align: center;
        }

        .sentence-pair {
            background: #fff5f5;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-right: 4px solid #FF6B6B;
        }

        .sentence-pair-number {
            font-weight: bold;
            color: #FF6B6B;
            margin-bottom: 8px;
        }

        .sentence-english {
            direction: ltr;
            text-align: left;
            padding: 10px;
            background: white;
            border-radius: 5px;
            margin-bottom: 8px;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sentence-hebrew {
            direction: rtl;
            text-align: right;
            padding: 10px;
            background: white;
            border-radius: 5px;
            font-size: 1.1em;
        }

        .speaker-btn {
            background: #FF6B6B;
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }

        .speaker-btn:hover {
            background: #ff5252;
            transform: scale(1.1);
        }

        .speaker-btn:active {
            transform: scale(0.95);
        }

        .sentence-text-with-audio {
            flex: 1;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f0f;
            position: absolute;
            animation: confetti-fall 3s linear forwards;
            z-index: 1000;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .encouragement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            font-weight: bold;
            color: #FF6B6B;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            z-index: 999;
            animation: encouragement-pop 1.5s ease-out forwards;
            pointer-events: none;
        }

        @keyframes encouragement-pop {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ×”×ª×××ª ××©×¤×˜×™×</h1>
        <p class="subtitle">×”×ª××™××• ×‘×™×Ÿ ×”××©×¤×˜×™× ×”×× ×’×œ×™×™× ×œ×ª×¨×’×•××™× ×”×¢×‘×¨×™×™× - ×›×™×ª×” ×’'</p>

        <div id="instructions" class="instructions">
            <h3>ğŸ“‹ ×”×•×¨××•×ª ×”××©×—×§</h3>
            <p>
                ×‘××©×—×§ ×–×” ×¢×œ×™×›× ×œ×”×ª××™× ×‘×™×Ÿ ××©×¤×˜×™× ×‘×× ×’×œ×™×ª ×œ×ª×¨×’×•××™× ×©×œ×”× ×‘×¢×‘×¨×™×ª.<br>
                ×œ×—×¦×• ×¢×œ ××©×¤×˜ (×‘×× ×’×œ×™×ª ××• ×‘×¢×‘×¨×™×ª) ×•××– ×¢×œ ×”×”×ª×××” ×©×œ×•.<br>
                ××¤×©×¨ ×œ×‘×—×•×¨ ×ª×—×™×œ×” ××ª ×”××©×¤×˜ ×”×× ×’×œ×™ ××• ××ª ×”×ª×¨×’×•× ×”×¢×‘×¨×™ - ×›×¨×¦×•× ×›×!<br>
                ×™×© 5 ××©×¤×˜×™× ×œ×”×ª×××”. ××•×ª×¨ ×œ×˜×¢×•×ª ×¢×“ 3 ×¤×¢××™× ×‘×œ×‘×“!<br>
                ×× ×ª×˜×¢×•, ×ª×•×›×œ×• ×œ× ×¡×•×ª ×©×•×‘. ×‘×”×¦×œ×—×”! ğŸŒŸ
            </p>
            <button class="start-btn" onclick="startGame()">×”×ª×—×œ ××©×—×§!</button>
        </div>

        <div id="game-screen" class="hidden">
            <div class="mistakes-counter" id="mistakes">
                <span>ğŸ’” ×˜×¢×•×™×•×ª:</span>
                <span class="mistake-heart" id="heart1">â¤ï¸</span>
                <span class="mistake-heart" id="heart2">â¤ï¸</span>
                <span class="mistake-heart" id="heart3">â¤ï¸</span>
            </div>

            <div class="progress-info" id="progress-info">
                ×”×ª×××•×ª × ×›×•× ×•×ª: <span id="matches-count">0</span> ××ª×•×š 5
            </div>

            <div class="game-area">
                <div class="sentences-column">
                    <div class="column-title">English - ×× ×’×œ×™×ª</div>
                    <div id="sentences-container"></div>
                </div>

                <div class="translations-column">
                    <div class="column-title">×¢×‘×¨×™×ª - Hebrew</div>
                    <div id="translations-container"></div>
                </div>
            </div>

            <div class="feedback" id="feedback"></div>
        </div>

        <div id="result-screen" class="hidden">
            <div class="result-icon" id="result-icon"></div>
            <h2 class="result-title" id="result-title"></h2>
            <p class="result-message" id="result-message"></p>

            <div class="stats-table">
                <h3>ğŸ“Š ×¡×™×›×•× ×‘×™×¦×•×¢×™× ××¤×•×¨×˜</h3>
                <div class="stat-row">
                    <span class="stat-label">×”×ª×××•×ª × ×›×•× ×•×ª:</span>
                    <span class="stat-value" id="correct-matches"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">×¡×”"×› ×˜×¢×•×™×•×ª:</span>
                    <span class="stat-value" id="total-mistakes"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">××—×•×– ×”×¦×œ×—×”:</span>
                    <span class="stat-value" id="success-rate"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">×–××Ÿ ×›×•×œ×œ:</span>
                    <span class="stat-value" id="total-time"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">×–××Ÿ ×××•×¦×¢ ×œ×”×ª×××”:</span>
                    <span class="stat-value" id="avg-time"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">××¡×¤×¨ × ×™×¡×™×•× ×•×ª ×›×•×œ×œ:</span>
                    <span class="stat-value" id="total-attempts"></span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">×¡×˜×˜×•×¡:</span>
                    <span class="stat-value" id="game-status"></span>
                </div>
            </div>

            <div class="sentences-review">
                <h3>ğŸ“ ×›×œ ×”××©×¤×˜×™× ×•×”×”×ª×××•×ª ×”× ×›×•× ×•×ª</h3>
                <div id="all-sentences-list"></div>
            </div>

            <button class="restart-btn" onclick="restartGame()">ğŸ”„ ×©×—×§ ×©×•×‘</button>
        </div>
    </div>

    <script>
        const allSentencePairs = [
            // Animals - ×—×™×•×ª (20 ××©×¤×˜×™×)
            { english: "The cat is on the table.", hebrew: "×”×—×ª×•×œ ×¢×œ ×”×©×•×œ×—×Ÿ." },
            { english: "I have a blue pencil.", hebrew: "×™×© ×œ×™ ×¢×™×¤×¨×•×Ÿ ×›×—×•×œ." },
            { english: "My book is in the bag.", hebrew: "×”×¡×¤×¨ ×©×œ×™ ×‘×ª×™×§." },
            { english: "The dog is under the chair.", hebrew: "×”×›×œ×‘ ××ª×—×ª ×œ×›×™×¡×." },
            { english: "She likes to play in the park.", hebrew: "×”×™× ××•×”×‘×ª ×œ×©×—×§ ×‘×¤××¨×§." },
            { english: "The bird is in the tree.", hebrew: "×”×¦×™×¤×•×¨ ×¢×œ ×”×¢×¥." },
            { english: "My dog is very big.", hebrew: "×”×›×œ×‘ ×©×œ×™ ×’×“×•×œ ×××•×“." },
            { english: "The fish is in the water.", hebrew: "×”×“×’ ×‘××™×." },
            { english: "I see a rabbit in the garden.", hebrew: "×× ×™ ×¨×•××” ××¨× ×‘ ×‘×’×™× ×”." },
            { english: "The horse is brown.", hebrew: "×”×¡×•×¡ ×—×•×." },
            { english: "A frog can jump high.", hebrew: "×¦×¤×¨×“×¢ ×™×›×•×œ×” ×œ×§×¤×•×¥ ×’×‘×•×”." },
            { english: "The lion is the king.", hebrew: "×”××¨×™×” ×”×•× ×”××œ×š." },
            { english: "My cat likes milk.", hebrew: "×”×—×ª×•×œ ×©×œ×™ ××•×”×‘ ×—×œ×‘." },
            { english: "The monkey is funny.", hebrew: "×”×§×•×£ ××¦×—×™×§." },
            { english: "I have two pet birds.", hebrew: "×™×© ×œ×™ ×©× ×™ ×¦×™×¤×•×¨×™×." },
            { english: "The elephant is very big.", hebrew: "×”×¤×™×œ ×’×“×•×œ ×××•×“." },
            { english: "A duck can swim.", hebrew: "×‘×¨×•×•×– ×™×›×•×œ ×œ×©×—×•×ª." },
            { english: "The cow gives us milk.", hebrew: "×”×¤×¨×” × ×•×ª× ×ª ×œ× ×• ×—×œ×‘." },
            { english: "I see a butterfly.", hebrew: "×× ×™ ×¨×•××” ×¤×¨×¤×¨." },
            { english: "The bear is sleeping.", hebrew: "×”×“×•×‘ ×™×©×Ÿ." },

            // Family - ××©×¤×—×” (15 ××©×¤×˜×™×)
            { english: "My mother is a teacher.", hebrew: "××× ×©×œ×™ ××•×¨×”." },
            { english: "I love my father.", hebrew: "×× ×™ ××•×”×‘ ××ª ××‘× ×©×œ×™." },
            { english: "My sister is seven years old.", hebrew: "××—×•×ª×™ ×‘×ª ×©×‘×¢." },
            { english: "My brother plays soccer.", hebrew: "××—×™ ××©×—×§ ×›×“×•×¨×’×œ." },
            { english: "Grandma makes cookies.", hebrew: "×¡×‘×ª× ××›×™× ×” ×¢×•×’×™×•×ª." },
            { english: "Grandpa tells good stories.", hebrew: "×¡×‘× ××¡×¤×¨ ×¡×™×¤×•×¨×™× ×˜×•×‘×™×." },
            { english: "My family is happy.", hebrew: "×”××©×¤×—×” ×©×œ×™ ×©××—×”." },
            { english: "I help my mom at home.", hebrew: "×× ×™ ×¢×•×–×¨ ×œ××× ×‘×‘×™×ª." },
            { english: "My dad is tall.", hebrew: "××‘× ×©×œ×™ ×’×‘×•×”." },
            { english: "I have one brother.", hebrew: "×™×© ×œ×™ ××— ××—×“." },
            { english: "My baby sister is cute.", hebrew: "××—×•×ª×™ ×”×ª×™× ×•×§×ª ×—××•×“×”." },
            { english: "We eat dinner together.", hebrew: "×× ×—× ×• ××•×›×œ×™× ××¨×•×—×ª ×¢×¨×‘ ×‘×™×—×“." },
            { english: "My uncle lives far away.", hebrew: "×”×“×•×“ ×©×œ×™ ×’×¨ ×¨×—×•×§." },
            { english: "I visit my aunt on Sunday.", hebrew: "×× ×™ ××‘×§×¨ ××ª ×”×“×•×“×” ×©×œ×™ ×‘×™×•× ×¨××©×•×Ÿ." },
            { english: "My cousin is my friend.", hebrew: "×‘×Ÿ ×”×“×•×“ ×©×œ×™ ×”×•× ×—×‘×¨ ×©×œ×™." },

            // School - ×‘×™×ª ×¡×¤×¨ (15 ××©×¤×˜×™×)
            { english: "I go to school every day.", hebrew: "×× ×™ ×”×•×œ×š ×œ×‘×™×ª ×”×¡×¤×¨ ×›×œ ×™×•×." },
            { english: "My teacher is very nice.", hebrew: "×”××•×¨×” ×©×œ×™ × ×—××“×” ×××•×“." },
            { english: "I like to read books.", hebrew: "×× ×™ ××•×”×‘ ×œ×§×¨×•× ×¡×¤×¨×™×." },
            { english: "We learn English at school.", hebrew: "×× ×—× ×• ×œ×•××“×™× ×× ×’×œ×™×ª ×‘×‘×™×ª ×”×¡×¤×¨." },
            { english: "I write with a pen.", hebrew: "×× ×™ ×›×•×ª×‘ ×‘×¢×˜." },
            { english: "The classroom is big.", hebrew: "×”×›×™×ª×” ×’×“×•×œ×”." },
            { english: "I have many friends.", hebrew: "×™×© ×œ×™ ×”×¨×‘×” ×—×‘×¨×™×." },
            { english: "We play at recess.", hebrew: "×× ×—× ×• ××©×—×§×™× ×‘×”×¤×¡×§×”." },
            { english: "I do my homework.", hebrew: "×× ×™ ×¢×•×©×” ×©×™×¢×•×¨×™ ×‘×™×ª." },
            { english: "The school is near my house.", hebrew: "×‘×™×ª ×”×¡×¤×¨ ×§×¨×•×‘ ×œ×‘×™×ª ×©×œ×™." },
            { english: "I like math class.", hebrew: "×× ×™ ××•×”×‘ ×©×™×¢×•×¨ ××ª××˜×™×§×”." },
            { english: "We sing songs in class.", hebrew: "×× ×—× ×• ×©×¨×™× ×©×™×¨×™× ×‘×›×™×ª×”." },
            { english: "I bring lunch to school.", hebrew: "×× ×™ ××‘×™× ××¨×•×—×ª ×¦×”×¨×™×™× ×œ×‘×™×ª ×”×¡×¤×¨." },
            { english: "The library has many books.", hebrew: "×‘×¡×¤×¨×™×™×” ×™×© ×”×¨×‘×” ×¡×¤×¨×™×." },
            { english: "I draw pictures in art class.", hebrew: "×× ×™ ××¦×™×¨ ×¦×™×•×¨×™× ×‘×©×™×¢×•×¨ ××× ×•×ª." },

            // Food - ××•×›×œ (15 ××©×¤×˜×™×)
            { english: "I like pizza very much.", hebrew: "×× ×™ ××•×”×‘ ×¤×™×¦×” ×××•×“." },
            { english: "The apple is red.", hebrew: "×”×ª×¤×•×— ××“×•×." },
            { english: "I eat breakfast every morning.", hebrew: "×× ×™ ××•×›×œ ××¨×•×—×ª ×‘×•×§×¨ ×›×œ ×‘×•×§×¨." },
            { english: "Ice cream is cold and sweet.", hebrew: "×’×œ×™×“×” ×§×¨×” ×•××ª×•×§×”." },
            { english: "I drink water when I am thirsty.", hebrew: "×× ×™ ×©×•×ª×” ××™× ×›×©×× ×™ ×¦××." },
            { english: "The banana is yellow.", hebrew: "×”×‘× × ×” ×¦×”×•×‘×”." },
            { english: "I love chocolate cake.", hebrew: "×× ×™ ××•×”×‘ ×¢×•×’×ª ×©×•×§×•×œ×“." },
            { english: "Vegetables are healthy.", hebrew: "×™×¨×§×•×ª ×”× ×‘×¨×™××™×." },
            { english: "I eat an orange for lunch.", hebrew: "×× ×™ ××•×›×œ ×ª×¤×•×– ×œ××¨×•×—×ª ×¦×”×¨×™×™×." },
            { english: "Milk is white.", hebrew: "×—×œ×‘ ×œ×‘×Ÿ." },
            { english: "I like french fries.", hebrew: "×× ×™ ××•×”×‘ ×¦'×™×¤×¡." },
            { english: "The sandwich is delicious.", hebrew: "×”×›×¨×™×š ×˜×¢×™×." },
            { english: "I need a fork and knife.", hebrew: "×× ×™ ×¦×¨×™×š ××–×œ×’ ×•×¡×›×™×Ÿ." },
            { english: "The soup is hot.", hebrew: "×”××¨×§ ×—×." },
            { english: "I drink juice in the morning.", hebrew: "×× ×™ ×©×•×ª×” ××™×¥ ×‘×‘×•×§×¨." },

            // Colors & Objects - ×¦×‘×¢×™× ×•×—×¤×¦×™× (15 ××©×¤×˜×™×)
            { english: "The sky is blue.", hebrew: "×”×©××™×™× ×›×—×•×œ×™×." },
            { english: "My car is red.", hebrew: "×”××›×•× ×™×ª ×©×œ×™ ××“×•××”." },
            { english: "I have a green ball.", hebrew: "×™×© ×œ×™ ×›×“×•×¨ ×™×¨×•×§." },
            { english: "The sun is yellow.", hebrew: "×”×©××© ×¦×”×•×‘×”." },
            { english: "My shoes are black.", hebrew: "×”× ×¢×œ×™×™× ×©×œ×™ ×©×—×•×¨×•×ª." },
            { english: "The grass is green.", hebrew: "×”×“×©× ×™×¨×•×§." },
            { english: "I see a white cloud.", hebrew: "×× ×™ ×¨×•××” ×¢× ×Ÿ ×œ×‘×Ÿ." },
            { english: "The flower is pink.", hebrew: "×”×¤×¨×— ×•×¨×•×“." },
            { english: "My bag is brown.", hebrew: "×”×ª×™×§ ×©×œ×™ ×—×•×." },
            { english: "The door is orange.", hebrew: "×”×“×œ×ª ×›×ª×•××”." },
            { english: "I have a purple toy.", hebrew: "×™×© ×œ×™ ×¦×¢×¦×•×¢ ×¡×’×•×œ." },
            { english: "The moon is white.", hebrew: "×”×™×¨×— ×œ×‘×Ÿ." },
            { english: "My bike is blue and red.", hebrew: "×”××•×¤× ×™×™× ×©×œ×™ ×›×—×•×œ×™× ×•××“×•××™×." },
            { english: "The chair is gray.", hebrew: "×”×›×™×¡× ××¤×•×¨." },
            { english: "I wear a yellow hat.", hebrew: "×× ×™ ×—×•×‘×© ×›×•×‘×¢ ×¦×”×•×‘." },

            // Actions & Activities - ×¤×¢×•×œ×•×ª ×•×¤×¢×™×œ×•×™×•×ª (15 ××©×¤×˜×™×)
            { english: "I can run very fast.", hebrew: "×× ×™ ×™×›×•×œ ×œ×¨×•×¥ ××”×¨ ×××•×“." },
            { english: "She likes to dance.", hebrew: "×”×™× ××•×”×‘×ª ×œ×¨×§×•×“." },
            { english: "He can jump high.", hebrew: "×”×•× ×™×›×•×œ ×œ×§×¤×•×¥ ×’×‘×•×”." },
            { english: "We play soccer on Saturday.", hebrew: "×× ×—× ×• ××©×—×§×™× ×›×“×•×¨×’×œ ×‘×©×‘×ª." },
            { english: "I swim in the pool.", hebrew: "×× ×™ ×©×•×—×” ×‘×‘×¨×™×›×”." },
            { english: "They ride bikes in the park.", hebrew: "×”× ×¨×•×›×‘×™× ×¢×œ ××•×¤× ×™×™× ×‘×¤××¨×§." },
            { english: "I help my mother cook.", hebrew: "×× ×™ ×¢×•×–×¨ ×œ××× ×©×œ×™ ×œ×‘×©×œ." },
            { english: "She can sing beautifully.", hebrew: "×”×™× ×™×›×•×œ×” ×œ×©×™×¨ ×™×¤×”." },
            { english: "I watch TV after school.", hebrew: "×× ×™ ×¦×•×¤×” ×‘×˜×œ×•×•×™×–×™×” ××—×¨×™ ×‘×™×ª ×”×¡×¤×¨." },
            { english: "We clean the house together.", hebrew: "×× ×—× ×• ×× ×§×™× ××ª ×”×‘×™×ª ×‘×™×—×“." },
            { english: "He reads a book every night.", hebrew: "×”×•× ×§×•×¨× ×¡×¤×¨ ×›×œ ×œ×™×œ×”." },
            { english: "I draw pictures with crayons.", hebrew: "×× ×™ ××¦×™×™×¨ ×¦×™×•×¨×™× ×‘×¢×¤×¨×•× ×•×ª ×¦×‘×¢." },
            { english: "She plays the piano.", hebrew: "×”×™× ×× ×’× ×ª ×‘×¤×¡× ×ª×¨." },
            { english: "We walk to school.", hebrew: "×× ×—× ×• ×”×•×œ×›×™× ×¨×’×œ×™×ª ×œ×‘×™×ª ×”×¡×¤×¨." },
            { english: "I sleep at nine o'clock.", hebrew: "×× ×™ ×™×©×Ÿ ×‘×©×¢×” ×ª×©×¢." },

            // Weather & Nature - ××–×’ ××•×™×¨ ×•×˜×‘×¢ (5 ××©×¤×˜×™×)
            { english: "It is sunny today.", hebrew: "×”×™×•× ×©×˜×•×£ ×©××©." },
            { english: "The rain is falling.", hebrew: "×”×’×©× ×™×•×¨×“." },
            { english: "It is very cold outside.", hebrew: "×§×¨ ×××•×“ ×‘×—×•×¥." },
            { english: "The wind is strong.", hebrew: "×”×¨×•×— ×—×–×§×”." },
            { english: "I see a rainbow in the sky.", hebrew: "×× ×™ ×¨×•××” ×§×©×ª ×‘×¢× ×Ÿ ×‘×©××™×™×." }
        ];

        let sentencePairs = [];
        
        function selectRandomSentences() {
            // Shuffle and select 5 random sentences
            const shuffled = [...allSentencePairs].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, 5);
        }

        let selectedSentence = null;
        let selectedType = null; // 'sentence' or 'translation'
        let mistakes = 0;
        let matchesFound = 0;
        let matchedPairs = [];
        let startTime;
        let totalAttempts = 0;

        const encouragementMessages = [
            "! ××“×”×™× ğŸŒŸ",
            "! ×›×œ ×”×›×‘×•×“ ğŸ‰",
            "! ××¢×•×œ×” ğŸ‘",
            "! ×™×•×¤×™ ×©×œ ×–×”×‘ â­",
            "! ×¤× ×˜×¡×˜×™ ğŸ†",
            "! ××œ×•×£ ×”××œ×•×¤×™× ğŸ’ª",
            "! ×’××•×Ÿ ğŸ¯",
            "! ××•×©×œ× ğŸ’«",
            "! ××ª×”/××ª ××¦×•×™× ×™× ğŸŒˆ",
            "! ×™×© ×œ×š ××ª ×–×” ğŸ”¥"
        ];

        function createConfetti() {
            const colors = ['#FF6B6B', '#FFE66D', '#4ECDC4', '#95E1D3', '#F38181', '#AA96DA', '#FCBAD3'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 3000);
            }
        }

        function showEncouragement() {
            const message = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
            const encouragement = document.createElement('div');
            encouragement.className = 'encouragement';
            encouragement.textContent = message;
            document.body.appendChild(encouragement);
            
            setTimeout(() => encouragement.remove(), 1500);
        }

        function speakText(text) {
            if ('speechSynthesis' in window) {
                // Cancel any ongoing speech
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.9; // Slightly slower for kids
                utterance.pitch = 1;
                window.speechSynthesis.speak(utterance);
            } else {
                alert('×”×“×¤×“×¤×Ÿ ×©×œ×š ×œ× ×ª×•××š ×‘×”×§×¨××ª ×˜×§×¡×˜');
            }
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startGame() {
            sentencePairs = selectRandomSentences();
            document.getElementById('instructions').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            startTime = new Date();
            setupGame();
        }

        function setupGame() {
            const sentencesContainer = document.getElementById('sentences-container');
            const translationsContainer = document.getElementById('translations-container');
            
            sentencesContainer.innerHTML = '';
            translationsContainer.innerHTML = '';

            // Shuffle translations
            const shuffledTranslations = shuffleArray(sentencePairs);

            // Create sentence items
            sentencePairs.forEach((pair, index) => {
                const sentenceDiv = document.createElement('div');
                sentenceDiv.className = 'sentence-item';
                
                const speakerBtn = document.createElement('button');
                speakerBtn.className = 'speaker-btn';
                speakerBtn.innerHTML = 'ğŸ”Š';
                speakerBtn.onclick = (e) => {
                    e.stopPropagation();
                    speakText(pair.english);
                };
                
                const textSpan = document.createElement('span');
                textSpan.className = 'sentence-text-with-audio';
                textSpan.textContent = pair.english;
                
                sentenceDiv.appendChild(speakerBtn);
                sentenceDiv.appendChild(textSpan);
                sentenceDiv.dataset.index = index;
                sentenceDiv.onclick = () => selectSentence(index, sentenceDiv);
                sentencesContainer.appendChild(sentenceDiv);
            });

            // Create translation items
            shuffledTranslations.forEach((pair, displayIndex) => {
                const translationDiv = document.createElement('div');
                translationDiv.className = 'translation-item';
                translationDiv.textContent = pair.hebrew;
                // Find original index
                const originalIndex = sentencePairs.findIndex(p => p.hebrew === pair.hebrew);
                translationDiv.dataset.index = originalIndex;
                translationDiv.onclick = () => selectTranslation(originalIndex, translationDiv);
                translationsContainer.appendChild(translationDiv);
            });
        }

        function selectSentence(index, element) {
            if (matchedPairs.includes(index)) return;
            
            // If clicking the same sentence again, deselect it
            if (selectedSentence === index && selectedType === 'sentence') {
                element.classList.remove('selected');
                selectedSentence = null;
                selectedType = null;
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                return;
            }
            
            // If no selection yet, select this sentence
            if (selectedSentence === null) {
                // Deselect all previous selections
                document.querySelectorAll('.sentence-item').forEach(item => {
                    item.classList.remove('selected');
                });
                document.querySelectorAll('.translation-item').forEach(item => {
                    item.classList.remove('selected');
                });

                selectedSentence = index;
                selectedType = 'sentence';
                element.classList.add('selected');
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                return;
            }
            
            // If we have a translation selected and now selecting a sentence - check match
            if (selectedType === 'translation') {
                totalAttempts++;

                if (selectedSentence === index) {
                    // Correct match!
                    matchesFound++;
                    matchedPairs.push(index);
                    
                    const sentenceElements = document.querySelectorAll('.sentence-item');
                    const translationElements = document.querySelectorAll('.translation-item');
                    
                    // Mark both items as matched
                    element.classList.add('matched');
                    element.classList.remove('selected');
                    
                    // Find and mark the matching translation
                    translationElements.forEach(trans => {
                        if (parseInt(trans.dataset.index) === index) {
                            trans.classList.add('matched');
                            trans.classList.remove('selected');
                        }
                    });

                    // Show confetti and encouragement!
                    createConfetti();
                    showEncouragement();

                    document.getElementById('feedback').textContent = 'ğŸ‰ ××¢×•×œ×”! ×”×ª×××” × ×›×•× ×”!';
                    document.getElementById('feedback').className = 'feedback correct';
                    document.getElementById('matches-count').textContent = matchesFound;

                    selectedSentence = null;
                    selectedType = null;

                    if (matchesFound === 5) {
                        setTimeout(endGame, 1500);
                    }
                } else {
                    // Wrong match
                    mistakes++;
                    document.getElementById('feedback').textContent = 'âŒ ××•×¤×¡! ×–×• ×œ× ×”×”×ª×××” ×”× ×›×•× ×”. × ×¡×• ×©×•×‘!';
                    document.getElementById('feedback').className = 'feedback wrong';
                    
                    if (mistakes <= 3) {
                        document.getElementById(`heart${mistakes}`).classList.add('lost');
                    }

                    if (mistakes >= 3) {
                        setTimeout(endGame, 2000);
                    }

                    // Deselect all
                    document.querySelectorAll('.sentence-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    document.querySelectorAll('.translation-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    selectedSentence = null;
                    selectedType = null;
                }
            }
        }

        function selectTranslation(index, element) {
            if (matchedPairs.includes(index)) return;
            
            // If no selection yet, allow selecting translation first
            if (selectedSentence === null) {
                // Deselect all previous selections
                document.querySelectorAll('.sentence-item').forEach(item => {
                    item.classList.remove('selected');
                });
                document.querySelectorAll('.translation-item').forEach(item => {
                    item.classList.remove('selected');
                });
                
                selectedSentence = index;
                selectedType = 'translation';
                element.classList.add('selected');
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                return;
            }
            
            // If clicking the same translation again, deselect it
            if (selectedSentence === index && selectedType === 'translation') {
                element.classList.remove('selected');
                selectedSentence = null;
                selectedType = null;
                document.getElementById('feedback').textContent = '';
                document.getElementById('feedback').className = 'feedback';
                return;
            }

            totalAttempts++;

            if (selectedSentence === index) {
                // Correct match!
                matchesFound++;
                matchedPairs.push(index);
                
                const sentenceElements = document.querySelectorAll('.sentence-item');
                const translationElements = document.querySelectorAll('.translation-item');
                
                // Mark both items as matched regardless of which was selected first
                sentenceElements[index].classList.add('matched');
                sentenceElements[index].classList.remove('selected');
                element.classList.add('matched');
                element.classList.remove('selected');

                // Show confetti and encouragement!
                createConfetti();
                showEncouragement();

                document.getElementById('feedback').textContent = 'ğŸ‰ ××¢×•×œ×”! ×”×ª×××” × ×›×•× ×”!';
                document.getElementById('feedback').className = 'feedback correct';
                document.getElementById('matches-count').textContent = matchesFound;

                selectedSentence = null;
                selectedType = null;

                if (matchesFound === 5) {
                    setTimeout(endGame, 1500);
                }
            } else {
                // Wrong match
                mistakes++;
                document.getElementById('feedback').textContent = 'âŒ ××•×¤×¡! ×–×• ×œ× ×”×”×ª×××” ×”× ×›×•× ×”. × ×¡×• ×©×•×‘!';
                document.getElementById('feedback').className = 'feedback wrong';
                
                if (mistakes <= 3) {
                    document.getElementById(`heart${mistakes}`).classList.add('lost');
                }

                if (mistakes >= 3) {
                    setTimeout(endGame, 2000);
                }

                // Deselect all
                document.querySelectorAll('.sentence-item').forEach(item => {
                    item.classList.remove('selected');
                });
                document.querySelectorAll('.translation-item').forEach(item => {
                    item.classList.remove('selected');
                });
                selectedSentence = null;
                selectedType = null;
            }
        }

        function endGame() {
            const endTime = new Date();
            const timeDiff = Math.floor((endTime - startTime) / 1000);
            const minutes = Math.floor(timeDiff / 60);
            const seconds = timeDiff % 60;

            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            const passed = mistakes < 3 && matchesFound === 5;

            if (passed) {
                document.getElementById('result-icon').textContent = 'ğŸ†';
                document.getElementById('result-title').textContent = '!×›×œ ×”×›×‘×•×“! ×”×©×œ××ª ××ª ×”××©×—×§';
                document.getElementById('result-message').textContent = '××¢×•×œ×”! ×”×¦×œ×—×ª ×œ×”×ª××™× ××ª ×›×œ ×”××©×¤×˜×™× ×‘×¦×•×¨×” × ×›×•× ×” ×¢× ×¤×—×•×ª ×-3 ×˜×¢×•×™×•×ª. ×™×© ×œ×š ×”×‘× ×” ××¦×•×™× ×ª ×‘×× ×’×œ×™×ª!';
            } else {
                document.getElementById('result-icon').textContent = 'ğŸ˜Š';
                document.getElementById('result-title').textContent = '× ×¡×” ×©×•×‘!';
                document.getElementById('result-message').textContent = '×˜×¢×™×ª 3 ×¤×¢××™×. ×–×” ×‘×¡×“×¨! ×ª×¨×’×•×œ ×¢×•×©×” ××ª ×”×××¡×˜×¨. × ×¡×” ×©×•×‘ ×•×ª×¦×œ×™×—!';
            }

            // Calculate statistics
            const successRate = totalAttempts > 0 ? Math.round((matchesFound / totalAttempts) * 100) : 0;
            const avgTime = matchesFound > 0 ? Math.round(timeDiff / matchesFound) : 0;

            document.getElementById('correct-matches').textContent = matchesFound + ' ××ª×•×š 5';
            document.getElementById('total-mistakes').textContent = mistakes;
            document.getElementById('success-rate').textContent = successRate + '%';
            document.getElementById('total-time').textContent = `${minutes}:${seconds.toString().padStart(2, '0')} ×“×§×•×ª`;
            document.getElementById('avg-time').textContent = avgTime + ' ×©× ×™×•×ª';
            document.getElementById('total-attempts').textContent = totalAttempts;
            document.getElementById('game-status').textContent = passed ? 'âœ… ×¢×‘×¨ ×‘×”×¦×œ×—×”' : 'âŒ ×œ× ×¢×‘×¨';

            // Create sentences review list
            const sentencesList = document.getElementById('all-sentences-list');
            sentencesList.innerHTML = '';

            sentencePairs.forEach((pair, index) => {
                const pairDiv = document.createElement('div');
                pairDiv.className = 'sentence-pair';

                const numberDiv = document.createElement('div');
                numberDiv.className = 'sentence-pair-number';
                numberDiv.textContent = `××©×¤×˜ ${index + 1}:`;

                const englishDiv = document.createElement('div');
                englishDiv.className = 'sentence-english';
                
                const speakerBtn = document.createElement('button');
                speakerBtn.className = 'speaker-btn';
                speakerBtn.innerHTML = 'ğŸ”Š';
                speakerBtn.onclick = () => speakText(pair.english);
                
                const englishText = document.createElement('span');
                englishText.textContent = pair.english;
                
                englishDiv.appendChild(speakerBtn);
                englishDiv.appendChild(englishText);

                const hebrewDiv = document.createElement('div');
                hebrewDiv.className = 'sentence-hebrew';
                hebrewDiv.textContent = 'â† ' + pair.hebrew;

                pairDiv.appendChild(numberDiv);
                pairDiv.appendChild(englishDiv);
                pairDiv.appendChild(hebrewDiv);

                sentencesList.appendChild(pairDiv);
            });
        }

        function restartGame() {
            sentencePairs = selectRandomSentences();
            selectedSentence = null;
            selectedType = null;
            mistakes = 0;
            matchesFound = 0;
            matchedPairs = [];
            totalAttempts = 0;
            
            document.querySelectorAll('.mistake-heart').forEach(heart => {
                heart.classList.remove('lost');
            });

            document.getElementById('matches-count').textContent = '0';
            document.getElementById('feedback').textContent = '';
            document.getElementById('feedback').className = 'feedback';

            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            
            startTime = new Date();
            setupGame();
        }
    </script>
</body>
</html>
