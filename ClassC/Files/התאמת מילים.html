<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×”×ª×××ª ××™×œ×™× - ×× ×’×œ×™×ª ×œ×¢×‘×¨×™×ª</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 { color: #667eea; font-size: 2.5em; margin-bottom: 10px; }
        .score { font-size: 1.5em; color: #f093fb; font-weight: bold; margin-top: 15px; }
        .main-layout {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .game-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        .column {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .column h2 { text-align: center; margin-bottom: 20px; font-size: 1.8em; }
        .english-col h2 { color: #667eea; }
        .hebrew-col h2 { color: #f093fb; }
        .word-btn {
            width: 100%;
            padding: 20px;
            padding-left: 60px;
            margin-bottom: 15px;
            border: 3px solid;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            position: relative;
            text-align: center;
        }
        .word-btn:hover:not(:disabled) { transform: scale(1.05); }
        .word-btn.available { border-color: #667eea; color: #667eea; background: #e8eaf6; }
        .word-btn.selected { border-color: #ffd54f; background: #fff9c4; color: #f57f17; transform: scale(1.05); }
        .word-btn.correct { border-color: #4caf50; background: #c8e6c9; color: #2e7d32; }
        .word-btn.incorrect { border-color: #f44336; background: #ffcdd2; color: #c62828; }
        .word-btn:disabled { cursor: not-allowed; opacity: 0.5; }
        .hebrew-btn { border-color: #f093fb; color: #f093fb; background: #fce4ec; }
        .hebrew-btn:disabled { background: #f5f5f5; color: #bdbdbd; border-color: #e0e0e0; }
        .speaker-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.8em;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.2s;
        }
        .speaker-icon:hover { background: rgba(0,0,0,0.1); transform: translateY(-50%) scale(1.2); }
        .sentences-box {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-height: 800px;
            overflow-y: auto;
        }
        .sentences-box h2 { color: #4caf50; text-align: center; margin-bottom: 20px; font-size: 1.8em; }
        .sentence-item {
            background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 3px solid #4caf50;
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .sentence-word {
            font-size: 1.5em;
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .sentence-text {
            font-style: italic;
            color: #424242;
            background: white;
            padding: 12px;
            border-radius: 8px;
            direction: ltr;
            text-align: left;
            font-size: 1.1em;
        }
        .empty-sentences {
            text-align: center;
            color: #999;
            font-size: 1.2em;
            padding: 40px;
        }
        .summary {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .summary-header { text-align: center; margin-bottom: 40px; }
        .summary-header h1 { color: #667eea; margin-bottom: 20px; }
        .final-score { font-size: 4em; color: #ffd54f; font-weight: bold; margin: 20px 0; }
        .stars { font-size: 2.5em; margin: 20px 0; }
        .result-item {
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            border: 3px solid;
        }
        .result-item.correct { background: #c8e6c9; border-color: #4caf50; }
        .result-item.incorrect { background: #ffcdd2; border-color: #f44336; }
        .result-word { font-size: 1.5em; font-weight: bold; margin-bottom: 10px; color: #333; }
        .result-detail { margin: 8px 0; font-size: 1.1em; }
        .result-sentence {
            font-style: italic;
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            direction: ltr;
            text-align: left;
        }
        .play-again-btn {
            width: 100%;
            padding: 25px;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 30px;
        }
        .play-again-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(0,0,0,0.3); }
        .hidden { display: none; }
        @media (max-width: 1024px) {
            .main-layout { grid-template-columns: 1fr; }
            .sentences-box { max-height: 400px; }
        }
        @media (max-width: 768px) {
            .game-area { grid-template-columns: 1fr; }
            h1 { font-size: 1.8em; }
            .word-btn { font-size: 1em; padding: 15px; padding-left: 50px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="gameView">
            <div class="header">
                <h1>ğŸ® ××©×—×§ ×”×ª×××ª ××™×œ×™×</h1>
                <p style="font-size: 1.2em; color: #666; margin: 10px 0;">×œ×—×¥ ×¢×œ ××™×œ×” ×‘×× ×’×œ×™×ª, ×•××– ×¢×œ ×”×ª×¨×’×•× ×©×œ×” ×‘×¢×‘×¨×™×ª!</p>
                <p style="font-size: 1em; color: #999; margin: 5px 0;">×œ×—×¥ ×¢×œ ğŸ”Š ×›×“×™ ×œ×©××•×¢ ××ª ×”××™×œ×”</p>
                <div class="score">×”×•×ª×××•: <span id="matchCount">0</span> / 10</div>
            </div>
            <div class="main-layout">
                <div class="game-area">
                    <div class="column english-col">
                        <h2>ğŸ“ English Words</h2>
                        <div id="englishWords"></div>
                    </div>
                    <div class="column hebrew-col">
                        <h2>ğŸ’­ ××™×œ×™× ×‘×¢×‘×¨×™×ª</h2>
                        <div id="hebrewWords"></div>
                    </div>
                </div>
                <div class="sentences-box">
                    <h2>âœ… ××©×¤×˜×™× ×©×”×¦×œ×—×ª!</h2>
                    <div id="sentencesList">
                        <div class="empty-sentences">
                            ğŸ¯ ×”××©×¤×˜×™× ×©×œ×š ×™×•×¤×™×¢×• ×›××Ÿ<br>
                            ××—×¨×™ ×©×ª×ª××™× ××™×œ×™× × ×›×•×Ÿ!
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="summaryView" class="summary hidden">
            <div class="summary-header">
                <h1>!×›×œ ×”×›×‘×•×“ ğŸ‰</h1>
                <div class="final-score"><span id="finalScore">0</span> / 10</div>
                <div class="stars" id="starsDisplay"></div>
            </div>
            <div id="resultsList"></div>
            <button class="play-again-btn" onclick="startNewGame()">ğŸ”„ ×©×—×§ ×©×•×‘!</button>
        </div>
    </div>
    <script>
const wordBank = [
    { word: "dog", hebrew: "×›×œ×‘", sentence: "The dog runs in the yard." },
    { word: "cat", hebrew: "×—×ª×•×œ", sentence: "The cat sleeps on the bed." },
    { word: "book", hebrew: "×¡×¤×¨", sentence: "I read a book every night." },
    { word: "school", hebrew: "×‘×™×ª ×¡×¤×¨", sentence: "We go to school in the morning." },
    { word: "sun", hebrew: "×©××©", sentence: "The sun is bright in the sky." },
    { word: "water", hebrew: "××™×", sentence: "Please drink some water." },
    { word: "tree", hebrew: "×¢×¥", sentence: "A bird sits on the tree." },
    { word: "car", hebrew: "××›×•× ×™×ª", sentence: "Dad drives the car to work." },
    { word: "house", hebrew: "×‘×™×ª", sentence: "Our house is blue." },
    { word: "ball", hebrew: "×›×“×•×¨", sentence: "We play with the ball at the park." },
    { word: "friend", hebrew: "×—×‘×¨", sentence: "My friend is very nice." },
    { word: "apple", hebrew: "×ª×¤×•×—", sentence: "I eat an apple for lunch." },
    { word: "chair", hebrew: "×›×™×¡×", sentence: "Sit on the chair, please." },
    { word: "table", hebrew: "×©×•×œ×—×Ÿ", sentence: "The table is in the kitchen." },
    { word: "bird", hebrew: "×¦×™×¤×•×¨", sentence: "The bird sings in the morning." },
    { word: "mother", hebrew: "×××", sentence: "My mother makes dinner." },
    { word: "father", hebrew: "××‘×", sentence: "My father reads the newspaper." },
    { word: "sister", hebrew: "××—×•×ª", sentence: "My sister is younger than me." },
    { word: "brother", hebrew: "××—", sentence: "My brother plays soccer." },
    { word: "milk", hebrew: "×—×œ×‘", sentence: "I drink milk every day." },
    { word: "bread", hebrew: "×œ×—×", sentence: "We eat bread for breakfast." },
    { word: "window", hebrew: "×—×œ×•×Ÿ", sentence: "Open the window, please." },
    { word: "door", hebrew: "×“×œ×ª", sentence: "Close the door." },
    { word: "teacher", hebrew: "××•×¨×”", sentence: "The teacher is kind." },
    { word: "student", hebrew: "×ª×œ××™×“", sentence: "The student writes in his notebook." },
    { word: "notebook", hebrew: "××—×‘×¨×ª", sentence: "I have a new notebook." },
    { word: "pencil", hebrew: "×¢×™×¤×¨×•×Ÿ", sentence: "Sharpen your pencil." },
    { word: "pen", hebrew: "×¢×˜", sentence: "I write with a pen." },
    { word: "bag", hebrew: "×ª×™×§", sentence: "My bag is heavy." },
    { word: "desk", hebrew: "×©×•×œ×—×Ÿ ×›×ª×™×‘×”", sentence: "The desk is brown." },
    { word: "window", hebrew: "×—×œ×•×Ÿ", sentence: "The window is open." },
    { word: "floor", hebrew: "×¨×¦×¤×”", sentence: "The floor is clean." },
    { word: "wall", hebrew: "×§×™×¨", sentence: "The wall is white." },
    { word: "bed", hebrew: "××™×˜×”", sentence: "I sleep in my bed." },
    { word: "cup", hebrew: "×›×•×¡", sentence: "The cup is full of juice." },
    { word: "plate", hebrew: "×¦×œ×—×ª", sentence: "Put the food on the plate." },
    { word: "fork", hebrew: "××–×œ×’", sentence: "Eat with a fork." },
    { word: "spoon", hebrew: "×›×£", sentence: "Stir with a spoon." },
    { word: "knife", hebrew: "×¡×›×™×Ÿ", sentence: "Cut with a knife." },
    { word: "banana", hebrew: "×‘× × ×”", sentence: "The banana is yellow." },
    { word: "orange", hebrew: "×ª×¤×•×–", sentence: "I like orange juice." },
    { word: "grape", hebrew: "×¢× ×‘", sentence: "Grapes are sweet." },
    { word: "pear", hebrew: "××’×¡", sentence: "The pear is green." },
    { word: "peach", hebrew: "××¤×¨×¡×§", sentence: "The peach is soft." },
    { word: "strawberry", hebrew: "×ª×•×ª", sentence: "Strawberries are red." },
    { word: "egg", hebrew: "×‘×™×¦×”", sentence: "I eat an egg for breakfast." },
    { word: "cheese", hebrew: "×’×‘×™× ×”", sentence: "Cheese is tasty." },
    { word: "butter", hebrew: "×—×××”", sentence: "Spread butter on the bread." },
    { word: "chicken", hebrew: "×¢×•×£", sentence: "We have chicken for dinner." },
    { word: "fish", hebrew: "×“×’", sentence: "The fish swims in the water." },
    { word: "meat", hebrew: "×‘×©×¨", sentence: "Meat is on the plate." },
    { word: "rice", hebrew: "××•×¨×–", sentence: "Rice is white." },
    { word: "soup", hebrew: "××¨×§", sentence: "The soup is hot." },
    { word: "cake", hebrew: "×¢×•×’×”", sentence: "The cake is sweet." },
    { word: "cookie", hebrew: "×¢×•×’×™×”", sentence: "I like cookies." },
    { word: "ice cream", hebrew: "×’×œ×™×“×”", sentence: "Ice cream is cold." },
    { word: "juice", hebrew: "××™×¥", sentence: "I drink orange juice." },
    { word: "tea", hebrew: "×ª×”", sentence: "Tea is warm." },
    { word: "coffee", hebrew: "×§×¤×”", sentence: "Mom drinks coffee." },
    { word: "sugar", hebrew: "×¡×•×›×¨", sentence: "Sugar is sweet." },
    { word: "salt", hebrew: "××œ×—", sentence: "Add salt to the soup." },
    { word: "pepper", hebrew: "×¤×œ×¤×œ", sentence: "Pepper is spicy." },
    { word: "shoe", hebrew: "× ×¢×œ", sentence: "Put on your shoes." },
    { word: "sock", hebrew: "×’×¨×‘", sentence: "Wear socks in winter." },
    { word: "shirt", hebrew: "×—×•×œ×¦×”", sentence: "My shirt is blue." },
    { word: "pants", hebrew: "××›× ×¡×™×™×", sentence: "The pants are black." },
    { word: "dress", hebrew: "×©××œ×”", sentence: "She wears a dress." },
    { word: "skirt", hebrew: "×—×¦××™×ª", sentence: "The skirt is pink." },
    { word: "hat", hebrew: "×›×•×‘×¢", sentence: "Wear a hat in the sun." },
    { word: "coat", hebrew: "××¢×™×œ", sentence: "The coat is warm." },
    { word: "jacket", hebrew: "×–'×§×˜", sentence: "Put on your jacket." },
    { word: "glove", hebrew: "×›×¤×¤×”", sentence: "Wear gloves in the snow." },
    { word: "scarf", hebrew: "×¦×¢×™×£", sentence: "The scarf is long." },
    { word: "rain", hebrew: "×’×©×", sentence: "The rain is falling." },
    { word: "snow", hebrew: "×©×œ×’", sentence: "Snow is white and cold." },
    { word: "wind", hebrew: "×¨×•×—", sentence: "The wind is strong." },
    { word: "cloud", hebrew: "×¢× ×Ÿ", sentence: "The cloud is gray." },
    { word: "star", hebrew: "×›×•×›×‘", sentence: "The star shines at night." },
    { word: "moon", hebrew: "×™×¨×—", sentence: "The moon is round." },
    { word: "sky", hebrew: "×©××™×™×", sentence: "The sky is blue." },
    { word: "road", hebrew: "×›×‘×™×©", sentence: "Cars drive on the road." },
    { word: "street", hebrew: "×¨×—×•×‘", sentence: "I walk on the street." },
    { word: "park", hebrew: "×¤××¨×§", sentence: "We play in the park." },
    { word: "garden", hebrew: "×’×Ÿ", sentence: "Flowers grow in the garden." },
    { word: "flower", hebrew: "×¤×¨×—", sentence: "The flower is pretty." },
    { word: "grass", hebrew: "×“×©×", sentence: "The grass is green." },
    { word: "leaf", hebrew: "×¢×œ×”", sentence: "The leaf falls from the tree." },
    { word: "river", hebrew: "× ×”×¨", sentence: "The river is long." },
    { word: "lake", hebrew: "××’×", sentence: "The lake is deep." },
    { word: "sea", hebrew: "×™×", sentence: "We swim in the sea." },
    { word: "mountain", hebrew: "×”×¨", sentence: "The mountain is high." },
    { word: "hill", hebrew: "×’×‘×¢×”", sentence: "The hill is small." },
    { word: "sand", hebrew: "×—×•×œ", sentence: "The sand is soft." },
    { word: "rock", hebrew: "×¡×œ×¢", sentence: "The rock is hard." },
    { word: "animal", hebrew: "×—×™×”", sentence: "The zoo has many animals." },
    { word: "cow", hebrew: "×¤×¨×”", sentence: "The cow gives milk." },
    { word: "horse", hebrew: "×¡×•×¡", sentence: "The horse runs fast." },
    { word: "sheep", hebrew: "×›×‘×©×”", sentence: "The sheep is white." },
    { word: "goat", hebrew: "×¢×–", sentence: "The goat eats grass." },
    { word: "chicken", hebrew: "×ª×¨× ×’×•×œ×ª", sentence: "The chicken lays eggs." },
    { word: "duck", hebrew: "×‘×¨×•×•×–", sentence: "The duck swims in the pond." },
    { word: "fish", hebrew: "×“×’", sentence: "The fish swims in the water." },
    { word: "frog", hebrew: "×¦×¤×¨×“×¢", sentence: "The frog jumps." },
    { word: "rabbit", hebrew: "××¨× ×‘", sentence: "The rabbit eats carrots." },
    { word: "mouse", hebrew: "×¢×›×‘×¨", sentence: "The mouse is small." },
    { word: "lion", hebrew: "××¨×™×”", sentence: "The lion is strong." },
    { word: "tiger", hebrew: "× ××¨", sentence: "The tiger has stripes." },
    { word: "bear", hebrew: "×“×•×‘", sentence: "The bear is big." },
    { word: "monkey", hebrew: "×§×•×£", sentence: "The monkey climbs trees." },
    { word: "elephant", hebrew: "×¤×™×œ", sentence: "The elephant has a long trunk." },
    { word: "giraffe", hebrew: "×’'×™×¨×¤×”", sentence: "The giraffe is tall." },
    { word: "zebra", hebrew: "×–×‘×¨×”", sentence: "The zebra has black and white stripes." },
    { word: "fox", hebrew: "×©×•×¢×œ", sentence: "The fox is clever." },
    { word: "wolf", hebrew: "×–××‘", sentence: "The wolf howls at night." },
    { word: "ant", hebrew: "× ××œ×”", sentence: "The ant is tiny." },
    { word: "bee", hebrew: "×“×‘×•×¨×”", sentence: "The bee makes honey." },
    { word: "butterfly", hebrew: "×¤×¨×¤×¨", sentence: "The butterfly is colorful." },
    { word: "spider", hebrew: "×¢×›×‘×™×©", sentence: "The spider spins a web." },
    { word: "fly", hebrew: "×–×‘×•×‘", sentence: "The fly is buzzing." },
    { word: "bird", hebrew: "×¦×™×¤×•×¨", sentence: "The bird sings." },
    { word: "duck", hebrew: "×‘×¨×•×•×–", sentence: "The duck quacks." },
    { word: "hen", hebrew: "×ª×¨× ×’×•×œ×ª", sentence: "The hen lays eggs." },
    { word: "egg", hebrew: "×‘×™×¦×”", sentence: "The egg is white." },
    { word: "nest", hebrew: "×§×Ÿ", sentence: "The bird builds a nest." },
    { word: "wing", hebrew: "×›× ×£", sentence: "The bird has wings." },
    { word: "tail", hebrew: "×–× ×‘", sentence: "The dog wags its tail." },
    { word: "hand", hebrew: "×™×“", sentence: "Raise your hand." },
    { word: "leg", hebrew: "×¨×’×œ", sentence: "My leg hurts." },
    { word: "head", hebrew: "×¨××©", sentence: "Put your hat on your head." },
    { word: "eye", hebrew: "×¢×™×Ÿ", sentence: "Close your eyes." },
    { word: "ear", hebrew: "××•×–×Ÿ", sentence: "My ear is cold." },
    { word: "nose", hebrew: "××£", sentence: "My nose is small." },
    { word: "mouth", hebrew: "×¤×”", sentence: "Open your mouth." },
    { word: "teeth", hebrew: "×©×™× ×™×™×", sentence: "Brush your teeth." },
    { word: "hair", hebrew: "×©×™×¢×¨", sentence: "Her hair is long." },
    { word: "face", hebrew: "×¤× ×™×", sentence: "Wash your face." },
    { word: "finger", hebrew: "××¦×‘×¢", sentence: "I have ten fingers." },
    { word: "toe", hebrew: "×‘×•×”×Ÿ", sentence: "My toe hurts." },
    { word: "back", hebrew: "×’×‘", sentence: "My back is strong." },
    { word: "stomach", hebrew: "×‘×˜×Ÿ", sentence: "My stomach is full." },
    { word: "happy", hebrew: "×©××—", sentence: "I am happy today." },
    { word: "sad", hebrew: "×¢×¦×•×‘", sentence: "He is sad." },
    { word: "angry", hebrew: "×›×•×¢×¡", sentence: "She is angry." },
    { word: "tired", hebrew: "×¢×™×™×£", sentence: "I am tired." },
    { word: "hungry", hebrew: "×¨×¢×‘", sentence: "I am hungry." },
    { word: "thirsty", hebrew: "×¦××", sentence: "I am thirsty." },
    { word: "cold", hebrew: "×§×¨", sentence: "It is cold outside." },
    { word: "hot", hebrew: "×—×", sentence: "It is hot today." },
    { word: "clean", hebrew: "× ×§×™", sentence: "My hands are clean." },
    { word: "dirty", hebrew: "××œ×•×›×œ×š", sentence: "My shoes are dirty." },
    { word: "big", hebrew: "×’×“×•×œ", sentence: "The elephant is big." },
    { word: "small", hebrew: "×§×˜×Ÿ", sentence: "The mouse is small." },
    { word: "long", hebrew: "××¨×•×š", sentence: "The rope is long." },
    { word: "short", hebrew: "×§×¦×¨", sentence: "The pencil is short." },
    { word: "fast", hebrew: "××”×™×¨", sentence: "The rabbit is fast." },
    { word: "slow", hebrew: "××™×˜×™", sentence: "The turtle is slow." },
    { word: "old", hebrew: "×™×©×Ÿ", sentence: "The book is old." },
    { word: "new", hebrew: "×—×“×©", sentence: "My bag is new." },
    { word: "open", hebrew: "×¤×ª×•×—", sentence: "The door is open." },
    { word: "closed", hebrew: "×¡×’×•×¨", sentence: "The window is closed." },
    { word: "up", hebrew: "×œ××¢×œ×”", sentence: "Look up." },
    { word: "down", hebrew: "×œ××˜×”", sentence: "Look down." },
    { word: "left", hebrew: "×©×××œ", sentence: "Turn left." },
    { word: "right", hebrew: "×™××™×Ÿ", sentence: "Turn right." },
    { word: "yes", hebrew: "×›×Ÿ", sentence: "Yes, I want juice." },
    { word: "no", hebrew: "×œ×", sentence: "No, thank you." },
    { word: "please", hebrew: "×‘×‘×§×©×”", sentence: "Please help me." },
    { word: "thank you", hebrew: "×ª×•×“×”", sentence: "Thank you very much." },
    { word: "sorry", hebrew: "×¡×œ×™×—×”", sentence: "I am sorry." },
    { word: "hello", hebrew: "×©×œ×•×", sentence: "Hello, my name is Tom." },
    { word: "goodbye", hebrew: "×œ×”×ª×¨××•×ª", sentence: "Goodbye, see you tomorrow." },
    { word: "good", hebrew: "×˜×•×‘", sentence: "The food is good." },
    { word: "bad", hebrew: "×¨×¢", sentence: "The weather is bad." },
    { word: "day", hebrew: "×™×•×", sentence: "Today is a nice day." },
    { word: "night", hebrew: "×œ×™×œ×”", sentence: "Good night!" },
    { word: "morning", hebrew: "×‘×•×§×¨", sentence: "Good morning!" },
    { word: "evening", hebrew: "×¢×¨×‘", sentence: "Good evening!" },
    { word: "family", hebrew: "××©×¤×—×”", sentence: "My family is big." },
    { word: "baby", hebrew: "×ª×™× ×•×§", sentence: "The baby is cute." },
    { word: "boy", hebrew: "×™×œ×“", sentence: "The boy is playing." },
    { word: "girl", hebrew: "×™×œ×“×”", sentence: "The girl is singing." },
    { word: "child", hebrew: "×™×œ×“/×”", sentence: "The child is happy." },
    { word: "people", hebrew: "×× ×©×™×", sentence: "Many people are here." },
    { word: "color", hebrew: "×¦×‘×¢", sentence: "What is your favorite color?" },
    { word: "red", hebrew: "××“×•×", sentence: "The apple is red." },
    { word: "blue", hebrew: "×›×—×•×œ", sentence: "The sky is blue." },
    { word: "yellow", hebrew: "×¦×”×•×‘", sentence: "The sun is yellow." },
    { word: "green", hebrew: "×™×¨×•×§", sentence: "The grass is green." },
    { word: "black", hebrew: "×©×—×•×¨", sentence: "The cat is black." },
    { word: "white", hebrew: "×œ×‘×Ÿ", sentence: "The snow is white." },
    { word: "brown", hebrew: "×—×•×", sentence: "The bear is brown." },
    { word: "pink", hebrew: "×•×¨×•×“", sentence: "The flower is pink." },
    { word: "orange", hebrew: "×›×ª×•×", sentence: "The orange is orange." },
    { word: "purple", hebrew: "×¡×’×•×œ", sentence: "The grape is purple." }
];

let currentWords = [];
let selectedWord = null;
let matches = {};
let results = [];
let correctSentences = [];
let attempts = {}; // Track attempts per word

function shuffleArray(arr) {
    const newArr = [...arr];
    for (let i = newArr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
    }
    return newArr;
}

function getRandomWords() {
    return shuffleArray(wordBank).slice(0, 10);
}

function speak(text, lang = 'en-US') {
    const utterance = new SpeechSynthesisUtterance(text);
    utterance.lang = lang;
    utterance.rate = 0.8;
    speechSynthesis.speak(utterance);
}

function startNewGame() {
    currentWords = getRandomWords();
    selectedWord = null;
    matches = {};
    results = [];
    correctSentences = [];
    attempts = {};
    document.getElementById('gameView').classList.remove('hidden');
    document.getElementById('summaryView').classList.add('hidden');
    renderGame();
    updateSentencesList();
}

function renderGame() {
    const englishDiv = document.getElementById('englishWords');
    const hebrewDiv = document.getElementById('hebrewWords');
    englishDiv.innerHTML = '';
    hebrewDiv.innerHTML = '';

    currentWords.forEach(item => {
        const btn = document.createElement('button');
        btn.className = 'word-btn';
        const speaker = document.createElement('span');
        speaker.className = 'speaker-icon';
        speaker.textContent = 'ğŸ”Š';
        speaker.onclick = (e) => {
            e.stopPropagation();
            speak(item.word, 'en-US');
        };
        btn.appendChild(speaker);
        const textSpan = document.createElement('span');
        textSpan.textContent = item.word;
        btn.appendChild(textSpan);
        btn.onclick = () => selectWord(item.word);

        if (matches[item.word]) {
            btn.disabled = true;
            btn.classList.add('correct');
            const resultIcon = document.createElement('span');
            resultIcon.textContent = ' âœ“';
            btn.appendChild(resultIcon);
        } else if (selectedWord === item.word) {
            btn.classList.add('selected');
        } else {
            btn.classList.add('available');
        }
        englishDiv.appendChild(btn);
    });

    // Shuffle Hebrew words for display
    const shuffledHebrew = shuffleArray(currentWords);
    shuffledHebrew.forEach(item => {
        const btn = document.createElement('button');
        btn.className = 'word-btn hebrew-btn';
        btn.textContent = item.hebrew;
        btn.onclick = () => selectHebrew(item.hebrew);

        // Only disable if already matched correctly
        if (Object.values(matches).includes(item.hebrew)) {
            btn.disabled = true;
            btn.classList.add('correct');
        }
        hebrewDiv.appendChild(btn);
    });

    // Update match count
    document.getElementById('matchCount').textContent = Object.keys(matches).length;
}

function selectWord(word) {
    if (matches[word]) return;
    selectedWord = word;
    renderGame();
}

function selectHebrew(hebrew) {
    if (!selectedWord) return;
    const item = currentWords.find(w => w.word === selectedWord);
    if (!attempts[selectedWord]) attempts[selectedWord] = 0;
    attempts[selectedWord] += 1;
    const correct = item && item.hebrew === hebrew;
    if (correct) {
        matches[selectedWord] = hebrew;
        results.push({
            word: selectedWord,
            hebrew: hebrew,
            correct: true,
            sentence: item ? item.sentence : '',
            tries: attempts[selectedWord]
        });
        correctSentences.push({
            word: selectedWord,
            hebrew: hebrew,
            sentence: item.sentence
        });
        selectedWord = null;
        renderGame();
        updateSentencesList();
        if (Object.keys(matches).length === 10) {
            setTimeout(showSummary, 800);
        }
    } else {
        // Just record the attempt, don't disable anything
        results.push({
            word: selectedWord,
            hebrew: hebrew,
            correct: false,
            sentence: item ? item.sentence : '',
            tries: attempts[selectedWord]
        });
        // Keep the word selected so the player can try again
        renderGame();
    }
}

function updateSentencesList() {
    const list = document.getElementById('sentencesList');
    if (correctSentences.length === 0) {
        list.innerHTML = `<div class="empty-sentences">
            ğŸ¯ ×”××©×¤×˜×™× ×©×œ×š ×™×•×¤×™×¢×• ×›××Ÿ<br>
            ××—×¨×™ ×©×ª×ª××™× ××™×œ×™× × ×›×•×Ÿ!
        </div>`;
        return;
    }
    list.innerHTML = '';
    correctSentences.forEach(item => {
        const div = document.createElement('div');
        div.className = 'sentence-item';
        div.innerHTML = `
            <div class="sentence-word">${item.word} <span style="font-size:1.2em;">â†’</span> ${item.hebrew}</div>
            <div class="sentence-text">${item.sentence}</div>
        `;
        list.appendChild(div);
    });
}

function showSummary() {
    document.getElementById('gameView').classList.add('hidden');
    document.getElementById('summaryView').classList.remove('hidden');
    document.getElementById('finalScore').textContent = Object.keys(matches).length;
    // Stars
    let stars = '';
    const score = Object.keys(matches).length;
    for (let i = 0; i < Math.floor(score / 2); i++) stars += 'â­';
    document.getElementById('starsDisplay').textContent = stars;
    // Results
    const resultsList = document.getElementById('resultsList');
    resultsList.innerHTML = '';
    // Show only the first correct match for each word, and all attempts
    currentWords.forEach(item => {
        const wordResults = results.filter(r => r.word === item.word);
        const correctResult = wordResults.find(r => r.correct);
        const tries = attempts[item.word] || 0;
        const div = document.createElement('div');
        div.className = 'result-item ' + (correctResult ? 'correct' : 'incorrect');
        div.innerHTML = `
            <div class="result-word">${item.word} <span style="font-size:1.2em;">â†’</span> ${item.hebrew}</div>
            <div class="result-detail">${correctResult ? '× ×›×•×Ÿ!' : '×œ× × ×›×•×Ÿ.'} × ×™×¡×™×•× ×•×ª: ${tries}</div>
            <div class="result-sentence">${item.sentence}</div>
        `;
        resultsList.appendChild(div);
    });
}

// ×”×ª×—×œ ××©×—×§ ××•×˜×•××˜×™×ª
window.onload = startNewGame;
    </script>
</body>
</html>
